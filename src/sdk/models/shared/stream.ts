/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { remap as remap$ } from "../../../lib/primitives.js";
import {
  collectExtraKeys as collectExtraKeys$,
  safeParse,
} from "../../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

/**
 * `Stream` represents a particular stream from a media item, such as the video stream, audio stream, or subtitle stream. The stream may either be part of the file represented by the parent `Part` or, especially for subtitles, an external file. The stream contains more detailed information about the specific stream. For example, a video may include the `aspectRatio` at the `Media` level, but detailed information about the video stream like the color space will be included on the `Stream` for the video stream.  Note that photos do not have streams (mostly as an optimization).
 *
 * @remarks
 */
export type Stream = {
  default?: boolean | undefined;
  audioChannelLayout?: any | undefined;
  bitDepth?: number | undefined;
  bitrate?: number | undefined;
  /**
   * For subtitle streams only. If `true` then the server can attempt to automatically sync the subtitle timestamps with the video.
   */
  canAutoSync?: boolean | undefined;
  chromaLocation?: any | undefined;
  chromaSubsampling?: any | undefined;
  /**
   * The codec of the stream, such as `h264` or `aac`
   */
  codec?: any | undefined;
  colorPrimaries?: any | undefined;
  colorRange?: any | undefined;
  colorSpace?: any | undefined;
  colorTrc?: any | undefined;
  /**
   * A friendly name for the stream, often comprised of the language and codec information
   */
  displayTitle?: any | undefined;
  frameRate?: number | undefined;
  hasScalingMatrix?: any | undefined;
  height?: number | undefined;
  id?: number | undefined;
  /**
   * If the stream is part of the `Part` and not an external resource, the index of the stream within that part
   */
  index?: number | undefined;
  /**
   * If the stream is independently streamable, the key from which it can be streamed
   */
  key?: any | undefined;
  language?: any | undefined;
  /**
   * The three character language code for the stream contents
   */
  languageCode?: any | undefined;
  level?: number | undefined;
  profile?: any | undefined;
  refFrames?: number | undefined;
  samplingRate?: number | undefined;
  selected?: boolean | undefined;
  streamIdentifier?: number | undefined;
  /**
   * A number indicating the type of the stream. `1` for video, `2` for audio, `3` for subtitles, `4` for lyrics
   */
  streamType?: number | undefined;
  width?: number | undefined;
  additionalProperties?: { [k: string]: any };
};

/** @internal */
export const Stream$inboundSchema: z.ZodType<Stream, z.ZodTypeDef, unknown> =
  collectExtraKeys$(
    z.object({
      default: z.boolean().optional(),
      audioChannelLayout: z.any().optional(),
      bitDepth: z.number().int().optional(),
      bitrate: z.number().int().optional(),
      canAutoSync: z.boolean().optional(),
      chromaLocation: z.any().optional(),
      chromaSubsampling: z.any().optional(),
      codec: z.any().optional(),
      colorPrimaries: z.any().optional(),
      colorRange: z.any().optional(),
      colorSpace: z.any().optional(),
      colorTrc: z.any().optional(),
      displayTitle: z.any().optional(),
      frameRate: z.number().optional(),
      hasScalingMatrix: z.any().optional(),
      height: z.number().int().optional(),
      id: z.number().int().optional(),
      index: z.number().int().optional(),
      key: z.any().optional(),
      language: z.any().optional(),
      languageCode: z.any().optional(),
      level: z.number().int().optional(),
      profile: z.any().optional(),
      refFrames: z.number().int().optional(),
      samplingRate: z.number().int().optional(),
      selected: z.boolean().optional(),
      streamIdentifier: z.number().int().optional(),
      streamType: z.number().int().optional(),
      width: z.number().int().optional(),
    }).catchall(z.any()),
    "additionalProperties",
    true,
  );

/** @internal */
export type Stream$Outbound = {
  default?: boolean | undefined;
  audioChannelLayout?: any | undefined;
  bitDepth?: number | undefined;
  bitrate?: number | undefined;
  canAutoSync?: boolean | undefined;
  chromaLocation?: any | undefined;
  chromaSubsampling?: any | undefined;
  codec?: any | undefined;
  colorPrimaries?: any | undefined;
  colorRange?: any | undefined;
  colorSpace?: any | undefined;
  colorTrc?: any | undefined;
  displayTitle?: any | undefined;
  frameRate?: number | undefined;
  hasScalingMatrix?: any | undefined;
  height?: number | undefined;
  id?: number | undefined;
  index?: number | undefined;
  key?: any | undefined;
  language?: any | undefined;
  languageCode?: any | undefined;
  level?: number | undefined;
  profile?: any | undefined;
  refFrames?: number | undefined;
  samplingRate?: number | undefined;
  selected?: boolean | undefined;
  streamIdentifier?: number | undefined;
  streamType?: number | undefined;
  width?: number | undefined;
  [additionalProperties: string]: unknown;
};

/** @internal */
export const Stream$outboundSchema: z.ZodType<
  Stream$Outbound,
  z.ZodTypeDef,
  Stream
> = z.object({
  default: z.boolean().optional(),
  audioChannelLayout: z.any().optional(),
  bitDepth: z.number().int().optional(),
  bitrate: z.number().int().optional(),
  canAutoSync: z.boolean().optional(),
  chromaLocation: z.any().optional(),
  chromaSubsampling: z.any().optional(),
  codec: z.any().optional(),
  colorPrimaries: z.any().optional(),
  colorRange: z.any().optional(),
  colorSpace: z.any().optional(),
  colorTrc: z.any().optional(),
  displayTitle: z.any().optional(),
  frameRate: z.number().optional(),
  hasScalingMatrix: z.any().optional(),
  height: z.number().int().optional(),
  id: z.number().int().optional(),
  index: z.number().int().optional(),
  key: z.any().optional(),
  language: z.any().optional(),
  languageCode: z.any().optional(),
  level: z.number().int().optional(),
  profile: z.any().optional(),
  refFrames: z.number().int().optional(),
  samplingRate: z.number().int().optional(),
  selected: z.boolean().optional(),
  streamIdentifier: z.number().int().optional(),
  streamType: z.number().int().optional(),
  width: z.number().int().optional(),
  additionalProperties: z.record(z.any()),
}).transform((v) => {
  return {
    ...v.additionalProperties,
    ...remap$(v, {
      additionalProperties: null,
    }),
  };
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace Stream$ {
  /** @deprecated use `Stream$inboundSchema` instead. */
  export const inboundSchema = Stream$inboundSchema;
  /** @deprecated use `Stream$outboundSchema` instead. */
  export const outboundSchema = Stream$outboundSchema;
  /** @deprecated use `Stream$Outbound` instead. */
  export type Outbound = Stream$Outbound;
}

export function streamToJSON(stream: Stream): string {
  return JSON.stringify(Stream$outboundSchema.parse(stream));
}

export function streamFromJSON(
  jsonString: string,
): SafeParseResult<Stream, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Stream$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Stream' from JSON`,
  );
}
